import { CodeComponent } from '@/pages/components/code.component'
import DocsLayout from '@/layouts/docs.layout'
import ComponentLayout from '@/layouts/component.layout'
import { FIX, Icon, MenuProvider, Text, View } from '@fold-dev/core'
import React, { useState } from 'react'
import { Detail, LabelMenu, Popup, Todo, TodoSectionMenu, UserMenu, dispatchTodoEvent, todoState } from '@fold-pro/react'
import * as data from '@/dummy_data'

export const docs = {"title":"Todo","subtitle":"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.","description":"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."}

export const props = [{"tags":{},"filePath":"src/todo/index.ts","description":"","displayName":"TodoAddSection","methods":[],"props":{"onAdd":{"defaultValue":null,"description":"","name":"onAdd","declarations":[{"fileName":"pro/src/todo/todo-add-section.tsx","name":"TypeLiteral"}],"required":true,"type":{"name":"(value: string) => void"},"tags":{}},"onDismiss":{"defaultValue":null,"description":"","name":"onDismiss","declarations":[{"fileName":"pro/src/todo/todo-add-section.tsx","name":"TypeLiteral"}],"required":false,"type":{"name":"() => void"},"tags":{}}}},{"tags":{},"filePath":"src/todo/index.ts","description":"","displayName":"TodoAddTask","methods":[],"props":{"onAdd":{"defaultValue":null,"description":"","name":"onAdd","declarations":[{"fileName":"pro/src/todo/todo-add-task.tsx","name":"TypeLiteral"}],"required":true,"type":{"name":"(value: string) => void"},"tags":{}}}},{"tags":{},"filePath":"src/todo/index.ts","description":"","displayName":"TodoSectionHeader","methods":[],"props":{"id":{"defaultValue":null,"description":"","name":"id","declarations":[{"fileName":"pro/src/todo/todo-section-header.tsx","name":"TypeLiteral"}],"required":true,"type":{"name":"string"},"tags":{}},"name":{"defaultValue":null,"description":"","name":"name","declarations":[{"fileName":"pro/src/todo/todo-section-header.tsx","name":"TypeLiteral"}],"required":true,"type":{"name":"string"},"tags":{}},"description":{"defaultValue":null,"description":"","name":"description","declarations":[{"fileName":"pro/src/todo/todo-section-header.tsx","name":"TypeLiteral"}],"required":false,"type":{"name":"string"},"tags":{}},"color":{"defaultValue":null,"description":"","name":"color","declarations":[{"fileName":"pro/src/todo/todo-section-header.tsx","name":"TypeLiteral"}],"required":false,"type":{"name":"string"},"tags":{}},"prefix":{"defaultValue":null,"description":"","name":"prefix","declarations":[{"fileName":"pro/src/todo/todo-section-header.tsx","name":"TypeLiteral"}],"required":false,"type":{"name":"ReactElement<any, string | JSXElementConstructor<any>>"},"tags":{}},"tasks":{"defaultValue":null,"description":"","name":"tasks","declarations":[{"fileName":"pro/src/todo/todo-section-header.tsx","name":"TypeLiteral"}],"required":false,"type":{"name":"number"},"tags":{}},"collapsed":{"defaultValue":null,"description":"","name":"collapsed","declarations":[{"fileName":"pro/src/todo/todo-section-header.tsx","name":"TypeLiteral"}],"required":false,"type":{"name":"boolean"},"tags":{}}}},{"tags":{},"filePath":"src/todo/index.ts","description":"","displayName":"TodoSectionMenu","methods":[],"props":{}},{"tags":{},"filePath":"src/todo/index.ts","description":"","displayName":"TodoSection","methods":[],"props":{"index":{"defaultValue":null,"description":"","name":"index","declarations":[{"fileName":"pro/src/todo/todo-section.tsx","name":"TypeLiteral"}],"required":false,"type":{"name":"number"},"tags":{}}}},{"tags":{},"filePath":"src/todo/index.ts","description":"","displayName":"TodoSections","methods":[],"props":{"sections":{"defaultValue":null,"description":"","name":"sections","declarations":[{"fileName":"pro/src/todo/todo-sections.tsx","name":"TypeLiteral"}],"required":true,"type":{"name":"Section[]"},"tags":{}}}},{"tags":{},"filePath":"src/todo/index.ts","description":"","displayName":"TodoTaskEditor","methods":[],"props":{"isAddBelow":{"defaultValue":null,"description":"","name":"isAddBelow","declarations":[{"fileName":"pro/src/todo/todo-task-editor.tsx","name":"TypeLiteral"}],"required":false,"type":{"name":"boolean"},"tags":{}},"indented":{"defaultValue":null,"description":"","name":"indented","declarations":[{"fileName":"pro/src/todo/todo-task-editor.tsx","name":"TypeLiteral"}],"required":false,"type":{"name":"boolean"},"tags":{}},"autoFocus":{"defaultValue":null,"description":"","name":"autoFocus","declarations":[{"fileName":"pro/src/todo/todo-task-editor.tsx","name":"TypeLiteral"}],"required":false,"type":{"name":"boolean"},"tags":{}},"task":{"defaultValue":null,"description":"","name":"task","declarations":[{"fileName":"pro/src/todo/todo-task-editor.tsx","name":"TypeLiteral"}],"required":true,"type":{"name":"Task"},"tags":{}},"onSave":{"defaultValue":null,"description":"","name":"onSave","declarations":[{"fileName":"pro/src/todo/todo-task-editor.tsx","name":"TypeLiteral"}],"required":true,"type":{"name":"(value: any) => void"},"tags":{}},"onDismiss":{"defaultValue":null,"description":"","name":"onDismiss","declarations":[{"fileName":"pro/src/todo/todo-task-editor.tsx","name":"TypeLiteral"}],"required":true,"type":{"name":"() => void"},"tags":{}},"onIndent":{"defaultValue":null,"description":"","name":"onIndent","declarations":[{"fileName":"pro/src/todo/todo-task-editor.tsx","name":"TypeLiteral"}],"required":false,"type":{"name":"() => void"},"tags":{}},"onOutdent":{"defaultValue":null,"description":"","name":"onOutdent","declarations":[{"fileName":"pro/src/todo/todo-task-editor.tsx","name":"TypeLiteral"}],"required":false,"type":{"name":"() => void"},"tags":{}},"onAddBelowClose":{"defaultValue":null,"description":"","name":"onAddBelowClose","declarations":[{"fileName":"pro/src/todo/todo-task-editor.tsx","name":"TypeLiteral"}],"required":false,"type":{"name":"() => void"},"tags":{}}}},{"tags":{},"filePath":"src/todo/index.ts","description":"","displayName":"TodoTaskItem","methods":[],"props":{}},{"tags":{},"filePath":"src/todo/index.ts","description":"","displayName":"TodoTask","methods":[],"props":{"task":{"defaultValue":null,"description":"","name":"task","declarations":[{"fileName":"pro/src/todo/todo-task.tsx","name":"TypeLiteral"}],"required":true,"type":{"name":"Task"},"tags":{}},"visible":{"defaultValue":null,"description":"","name":"visible","declarations":[{"fileName":"pro/src/todo/todo-task.tsx","name":"TypeLiteral"}],"required":true,"type":{"name":"boolean"},"tags":{}},"indent":{"defaultValue":null,"description":"","name":"indent","declarations":[{"fileName":"pro/src/todo/todo-task.tsx","name":"TypeLiteral"}],"required":true,"type":{"name":"number"},"tags":{}},"parentSelected":{"defaultValue":null,"description":"","name":"parentSelected","declarations":[{"fileName":"pro/src/todo/todo-task.tsx","name":"TypeLiteral"}],"required":false,"type":{"name":"boolean"},"tags":{}}}},{"tags":{},"filePath":"src/todo/index.ts","description":"","displayName":"TodoTasks","methods":[],"props":{"parentColor":{"defaultValue":null,"description":"","name":"parentColor","declarations":[{"fileName":"pro/src/todo/todo-tasks.tsx","name":"TypeLiteral"}],"required":false,"type":{"name":"string"},"tags":{}},"tasks":{"defaultValue":null,"description":"","name":"tasks","declarations":[{"fileName":"pro/src/todo/todo-tasks.tsx","name":"TypeLiteral"}],"required":true,"type":{"name":"Task[]"},"tags":{}},"visible":{"defaultValue":null,"description":"","name":"visible","declarations":[{"fileName":"pro/src/todo/todo-tasks.tsx","name":"TypeLiteral"}],"required":true,"type":{"name":"boolean"},"tags":{}},"indent":{"defaultValue":null,"description":"","name":"indent","declarations":[{"fileName":"pro/src/todo/todo-tasks.tsx","name":"TypeLiteral"}],"required":false,"type":{"name":"number"},"tags":{}},"parentSelected":{"defaultValue":null,"description":"","name":"parentSelected","declarations":[{"fileName":"pro/src/todo/todo-tasks.tsx","name":"TypeLiteral"}],"required":false,"type":{"name":"boolean"},"tags":{}}}},{"tags":{},"filePath":"src/todo/index.ts","description":"","displayName":"TodoComponent","methods":[],"props":{}},{"tags":{},"filePath":"src/todo/index.ts","description":"","displayName":"Todo","methods":[],"props":{}},{"tags":{},"filePath":"src/todo/index.ts","description":"","displayName":"TodoProvider","methods":[],"props":{}},{"tags":{},"filePath":"src/todo/index.ts","description":"","displayName":"getSectionIndex","methods":[],"props":{}},{"tags":{},"filePath":"src/todo/index.ts","description":"","displayName":"flattenArrayWithLevel","methods":[],"props":{}},{"tags":{},"filePath":"src/todo/index.ts","description":"","displayName":"nestObjectsByLevel","methods":[],"props":{}},{"tags":{},"filePath":"src/todo/index.ts","description":"","displayName":"findSubtaskAmount","methods":[],"props":{}},{"tags":{},"filePath":"src/todo/index.ts","description":"","displayName":"todoState","methods":[],"props":{}}]

export const css = [[["--f-todo-padding","1rem 0.5rem"],["--f-todo-background","var(--f-color-surface)"]],[["--f-todo-section-header-color","var(--f-color-text-weak)"],["--f-todo-section-header-gap","1rem"],["--f-todo-section-header-height","5rem"],["--f-todo-section-description-color","var(--f-color-text-weaker)"]],[["--f-todo-section-add-task-padding","0rem 0"],["--f-todo-section-add-task-background","var(--f-color-surface)"]],[["--f-todo-collapse-color","var(--f-color-text-weak)"],["--f-todo-collapse-left","0rem"],["--f-todo-collapse-top","1.2rem"],["--f-todo-collapse-icon-width","3px"]],[["--f-todo-task-item-select-color","var(--f-color-accent)"],["--f-todo-task-item-parent-select-color","var(--f-color-accent-weak)"],["--f-todo-task-item-select-width","2px"],["--f-todo-task-item-collapse-padding-left","0.65rem"]],[["--f-todo-add-section-padding","0rem 2.4rem"],["--f-todo-add-section-spacing","0.8rem"],["--f-todo-add-section-background","var(--f-color-surface)"]],[["--f-todo-add-task-background","var(--f-color-surface)"],["--f-todo-add-task-padding","0 0 0 2.4rem"],["--f-todo-add-task-spacing","0.8rem"]],[["--f-todo-task-editor-color","var(--f-color-text)"]]]



<CodeComponent filename="todo.tsx" code="aW1wb3J0IHsKICBUb2RvQWRkU2VjdGlvbiwKICBUb2RvQWRkVGFzaywKICBUb2RvU2VjdGlvbkhlYWRlciwKICBUb2RvU2VjdGlvbk1lbnUsCiAgVG9kb1NlY3Rpb24sCiAgVG9kb1NlY3Rpb25zLAogIFRvZG9UYXNrRWRpdG9yLAogIFRvZG9UYXNrSXRlbSwKICBUb2RvVGFzaywKICBUb2RvVGFza3MsCiAgVG9kb0NvbXBvbmVudCwKICBUb2RvLAogIFRvZG9Qcm92aWRlciwKICBnZXRTZWN0aW9uSW5kZXgsCiAgZmxhdHRlbkFycmF5V2l0aExldmVsLAogIG5lc3RPYmplY3RzQnlMZXZlbCwKICBmaW5kU3VidGFza0Ftb3VudCwKICB0b2RvU3RhdGUsCn0gZnJvbSAiQGZvbGQtZGV2L2NvcmUiOwo=" />
```tsx
import {
  TodoAddSection,
  TodoAddTask,
  TodoSectionHeader,
  TodoSectionMenu,
  TodoSection,
  TodoSections,
  TodoTaskEditor,
  TodoTaskItem,
  TodoTask,
  TodoTasks,
  TodoComponent,
  Todo,
  TodoProvider,
  getSectionIndex,
  flattenArrayWithLevel,
  nestObjectsByLevel,
  findSubtaskAmount,
  todoState,
} from "@fold-dev/core";
```

### Usage

export const Usage = () => {
    const [sections, setSections] = useState(data.sections);
    const [task, setTask] = useState({});
    const [options, setOptions] = useState([]);
    const handleTaskOpen = (task) => {
        todoState({ task, setTask, sections, setSections }).handleTaskOpen(task);
    };
    const handleTaskUpdate = (taskData) => {
        todoState({ task, setTask, sections, setSections }).handleTaskUpdate(taskData);
    };
    const handleTaskDelete = (task) => {
        todoState({ task, setTask, sections, setSections }).handleTaskDelete(task);
    };
    const handleTaskAddBelow = ({ id, shouldIndent, task: { title, users, badges, labels } }) => {
        todoState({ task, setTask, sections, setSections }).handleTaskAddBelow({
            id,
            shouldIndent,
            task: { title, users, badges, labels },
        });
    };
    const handleTaskAdd = ({ task, sectionIndex }) => {
        todoState({ task, setTask, sections, setSections }).handleTaskAdd({ task, sectionIndex });
    };
    const handleTaskMove = ({ origin, target, selection }) => {
        todoState({ task, setTask, sections, setSections }).handleTaskMove({ origin, target, selection });
    };
    const handleSectionUpdate = (sec) => {
        todoState({ task, setTask, sections, setSections }).handleSectionUpdate(sec);
    };
    const handleSectionDelete = (sec) => {
        todoState({ task, setTask, sections, setSections }).handleSectionDelete(sec);
    };
    const handleSectionAdd = ({ name, sectionIndex }) => {
        todoState({ task, setTask, sections, setSections }).handleSectionAdd({ name, sectionIndex });
    };
    const handleSectionMove = ({ origin, target }) => {
        todoState({ task, setTask, sections, setSections }).handleSectionMove({ origin, target });
    };
    const handleTrigger = (word) => {
        if (word.trim().charAt(0) == '@') {
            setOptions(data.richInputUsers);
        }
        else if (word.trim().charAt(0) == '#') {
            setOptions(data.richInputLabels);
        }
        else {
            setOptions([]);
        }
    };
    const handleHighlight = (word, cb, always = false) => {
        if (word.includes('date:')) {
            cb({
                phrase: word.trim(),
                type: 'date',
                value: word.split(':')[1].trim(),
            });
        }
        else {
            if (always)
                cb(null);
        }
    };
    const getMenu = ({ data: { target, payload }, dismiss }) => {
        switch (target) {
            case 'todo-label':
                return (<LabelMenu onFilter={(value) => console.log('filter', value)} availableLabels={data.availableLabels} labels={payload.labels} onCancel={dismiss} onSave={(labels) => {
                        handleTaskUpdate({ ...payload, labels });
                        dismiss();
                    }}/>);
            case 'todo-user':
                return (<UserMenu onFilter={(value) => console.log('filter', value)} availableUsers={data.availableUsers} users={payload.users} onCancel={dismiss} onSave={(users) => {
                        handleTaskUpdate({ ...payload, users });
                        dismiss();
                    }}/>);
            case 'todo-menu':
                return (<Popup isTodo item={payload} onCancel={dismiss} colorPalette={data.colorPalette} onTodoAddBelow={() => {
                        dismiss();
                        dispatchTodoEvent('open-addbelow', { id: payload.id });
                    }} onTodoEdit={() => {
                        dismiss();
                        dispatchTodoEvent('edit-task', { id: payload.id });
                    }} onSave={(card) => {
                        dismiss();
                        handleTaskUpdate({ ...payload, ...card });
                    }} onView={() => {
                        dismiss();
                        setTask(payload);
                    }} onDelete={() => {
                        dismiss();
                        handleTaskDelete(payload);
                    }}/>);
            case 'todo-section':
                return (<TodoSectionMenu colorPalette={data.colorPalette} onSave={(section) => {
                        handleSectionUpdate({ ...payload, ...section });
                        dismiss();
                    }} onDelete={() => {
                        handleSectionDelete(payload);
                        dismiss();
                    }} section={payload}/>);
            default:
                return null;
        }
    };
    return (<>
            {!!task.id && (<Detail colorPalette={data.colorPalette} availableLabels={data.availableLabels} availableUsers={data.availableUsers} item={{ ...task }} onCancel={() => {
                setTask({});
            }} onSave={(task) => {
                handleTaskUpdate(task);
                setTask({});
            }} onDelete={(task) => {
                handleTaskDelete(task);
                setTask({});
            }}/>)}

            <MenuProvider menu={getMenu}>
                <Todo sections={sections} onTaskOpen={handleTaskOpen} onTaskUpdate={handleTaskUpdate} onTaskAdd={handleTaskAdd} onTaskAddBelow={handleTaskAddBelow} onTaskMove={handleTaskMove} onSectionUpdate={handleSectionUpdate} onSectionAdd={handleSectionAdd} onSectionMove={handleSectionMove} availableLabels={data.availableLabels} onLabelFilter={(value) => console.log('filter labels', value)} availableUsers={data.availableUsers} onUserFilter={(value) => console.log('filter users', value)} richInputHighlight={handleHighlight} richInputTrigger={handleTrigger} richInputOptions={options} editableSectionName={true} showSectionCount={true} hideCheckbox={false} collapsibleSection={true} collapsibleTask={true} targetVariant={{ cards: 'animated', nav: 'focus' }} task={undefined} sectionHeader={undefined} defaultSelection={{}} toolbar={({ selection }) => {
            return (<View row position="absolute" bgToken="surface-inverse" colorToken="text-on-color" p="1rem 2rem" radius="var(--f-radius)" shadow="var(--f-shadow-xl)" zIndex={1000} gap={10} className="f-fadein" display={!Object.keys(selection).length ? 'none' : 'flex'} style={{ bottom: 10, left: '50%', transform: 'translateX(-50%)' }}>
                                <Text color="inherit">{Object.keys(selection).length} selected</Text>
                                <Icon icon={FIX} className="f-buttonize" onClick={() => dispatchTodoEvent('select', {})}/>
                            </View>);
        }}/>
            </MenuProvider>
        </>);
};

<div className="story-block">
<Usage />
</div>

<CodeComponent filename="BasicUsage.tsx" code="ZXhwb3J0IGNvbnN0IFVzYWdlID0gKCkgPT4gewogICAgY29uc3QgW3NlY3Rpb25zLCBzZXRTZWN0aW9uc10gPSB1c2VTdGF0ZTxhbnk+KGRhdGEuc2VjdGlvbnMpCiAgICBjb25zdCBbdGFzaywgc2V0VGFza10gPSB1c2VTdGF0ZTxhbnk+KHt9KQogICAgY29uc3QgW29wdGlvbnMsIHNldE9wdGlvbnNdID0gdXNlU3RhdGU8YW55PihbXSkKCiAgICBjb25zdCBoYW5kbGVUYXNrT3BlbiA9ICh0YXNrKSA9PiB7CiAgICAgICAgdG9kb1N0YXRlKHsgdGFzaywgc2V0VGFzaywgc2VjdGlvbnMsIHNldFNlY3Rpb25zIH0pLmhhbmRsZVRhc2tPcGVuKHRhc2spCiAgICB9CgogICAgY29uc3QgaGFuZGxlVGFza1VwZGF0ZSA9ICh0YXNrRGF0YSkgPT4gewogICAgICAgIHRvZG9TdGF0ZSh7IHRhc2ssIHNldFRhc2ssIHNlY3Rpb25zLCBzZXRTZWN0aW9ucyB9KS5oYW5kbGVUYXNrVXBkYXRlKHRhc2tEYXRhKQogICAgfQoKICAgIGNvbnN0IGhhbmRsZVRhc2tEZWxldGUgPSAodGFzaykgPT4gewogICAgICAgIHRvZG9TdGF0ZSh7IHRhc2ssIHNldFRhc2ssIHNlY3Rpb25zLCBzZXRTZWN0aW9ucyB9KS5oYW5kbGVUYXNrRGVsZXRlKHRhc2spCiAgICB9CgogICAgY29uc3QgaGFuZGxlVGFza0FkZEJlbG93ID0gKHsgaWQsIHNob3VsZEluZGVudCwgdGFzazogeyB0aXRsZSwgdXNlcnMsIGJhZGdlcywgbGFiZWxzIH0gfSkgPT4gewogICAgICAgIHRvZG9TdGF0ZSh7IHRhc2ssIHNldFRhc2ssIHNlY3Rpb25zLCBzZXRTZWN0aW9ucyB9KS5oYW5kbGVUYXNrQWRkQmVsb3coewogICAgICAgICAgICBpZCwKICAgICAgICAgICAgc2hvdWxkSW5kZW50LAogICAgICAgICAgICB0YXNrOiB7IHRpdGxlLCB1c2VycywgYmFkZ2VzLCBsYWJlbHMgfSwKICAgICAgICB9KQogICAgfQoKICAgIGNvbnN0IGhhbmRsZVRhc2tBZGQgPSAoeyB0YXNrLCBzZWN0aW9uSW5kZXggfSkgPT4gewogICAgICAgIHRvZG9TdGF0ZSh7IHRhc2ssIHNldFRhc2ssIHNlY3Rpb25zLCBzZXRTZWN0aW9ucyB9KS5oYW5kbGVUYXNrQWRkKHsgdGFzaywgc2VjdGlvbkluZGV4IH0pCiAgICB9CgogICAgY29uc3QgaGFuZGxlVGFza01vdmUgPSAoeyBvcmlnaW4sIHRhcmdldCwgc2VsZWN0aW9uIH0pID0+IHsKICAgICAgICB0b2RvU3RhdGUoeyB0YXNrLCBzZXRUYXNrLCBzZWN0aW9ucywgc2V0U2VjdGlvbnMgfSkuaGFuZGxlVGFza01vdmUoeyBvcmlnaW4sIHRhcmdldCwgc2VsZWN0aW9uIH0pCiAgICB9CgogICAgY29uc3QgaGFuZGxlU2VjdGlvblVwZGF0ZSA9IChzZWMpID0+IHsKICAgICAgICB0b2RvU3RhdGUoeyB0YXNrLCBzZXRUYXNrLCBzZWN0aW9ucywgc2V0U2VjdGlvbnMgfSkuaGFuZGxlU2VjdGlvblVwZGF0ZShzZWMpCiAgICB9CgogICAgY29uc3QgaGFuZGxlU2VjdGlvbkRlbGV0ZSA9IChzZWMpID0+IHsKICAgICAgICB0b2RvU3RhdGUoeyB0YXNrLCBzZXRUYXNrLCBzZWN0aW9ucywgc2V0U2VjdGlvbnMgfSkuaGFuZGxlU2VjdGlvbkRlbGV0ZShzZWMpCiAgICB9CgogICAgY29uc3QgaGFuZGxlU2VjdGlvbkFkZCA9ICh7IG5hbWUsIHNlY3Rpb25JbmRleCB9KSA9PiB7CiAgICAgICAgdG9kb1N0YXRlKHsgdGFzaywgc2V0VGFzaywgc2VjdGlvbnMsIHNldFNlY3Rpb25zIH0pLmhhbmRsZVNlY3Rpb25BZGQoeyBuYW1lLCBzZWN0aW9uSW5kZXggfSkKICAgIH0KCiAgICBjb25zdCBoYW5kbGVTZWN0aW9uTW92ZSA9ICh7IG9yaWdpbiwgdGFyZ2V0IH0pID0+IHsKICAgICAgICB0b2RvU3RhdGUoeyB0YXNrLCBzZXRUYXNrLCBzZWN0aW9ucywgc2V0U2VjdGlvbnMgfSkuaGFuZGxlU2VjdGlvbk1vdmUoeyBvcmlnaW4sIHRhcmdldCB9KQogICAgfQoKICAgIGNvbnN0IGhhbmRsZVRyaWdnZXIgPSAod29yZCkgPT4gewogICAgICAgIGlmICh3b3JkLnRyaW0oKS5jaGFyQXQoMCkgPT0gJ0AnKSB7CiAgICAgICAgICAgIHNldE9wdGlvbnMoZGF0YS5yaWNoSW5wdXRVc2VycykKICAgICAgICB9IGVsc2UgaWYgKHdvcmQudHJpbSgpLmNoYXJBdCgwKSA9PSAnIycpIHsKICAgICAgICAgICAgc2V0T3B0aW9ucyhkYXRhLnJpY2hJbnB1dExhYmVscykKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBzZXRPcHRpb25zKFtdKQogICAgICAgIH0KICAgIH0KCiAgICBjb25zdCBoYW5kbGVIaWdobGlnaHQgPSAod29yZCwgY2IsIGFsd2F5cyA9IGZhbHNlKSA9PiB7CiAgICAgICAgaWYgKHdvcmQuaW5jbHVkZXMoJ2RhdGU6JykpIHsKICAgICAgICAgICAgY2IoewogICAgICAgICAgICAgICAgcGhyYXNlOiB3b3JkLnRyaW0oKSwKICAgICAgICAgICAgICAgIHR5cGU6ICdkYXRlJywKICAgICAgICAgICAgICAgIHZhbHVlOiB3b3JkLnNwbGl0KCc6JylbMV0udHJpbSgpLAogICAgICAgICAgICB9KQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmIChhbHdheXMpIGNiKG51bGwpCiAgICAgICAgfQogICAgfQoKICAgIGNvbnN0IGdldE1lbnUgPSAoeyBkYXRhOiB7IHRhcmdldCwgcGF5bG9hZCB9LCBkaXNtaXNzIH0pID0+IHsKICAgICAgICBzd2l0Y2ggKHRhcmdldCkgewogICAgICAgICAgICBjYXNlICd0b2RvLWxhYmVsJzoKICAgICAgICAgICAgICAgIHJldHVybiAoCiAgICAgICAgICAgICAgICAgICAgPExhYmVsTWVudQogICAgICAgICAgICAgICAgICAgICAgICBvbkZpbHRlcj17KHZhbHVlKSA9PiBjb25zb2xlLmxvZygnZmlsdGVyJywgdmFsdWUpfQogICAgICAgICAgICAgICAgICAgICAgICBhdmFpbGFibGVMYWJlbHM9e2RhdGEuYXZhaWxhYmxlTGFiZWxzfQogICAgICAgICAgICAgICAgICAgICAgICBsYWJlbHM9e3BheWxvYWQubGFiZWxzfQogICAgICAgICAgICAgICAgICAgICAgICBvbkNhbmNlbD17ZGlzbWlzc30KICAgICAgICAgICAgICAgICAgICAgICAgb25TYXZlPXsobGFiZWxzKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVUYXNrVXBkYXRlKHsgLi4ucGF5bG9hZCwgbGFiZWxzIH0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNtaXNzKCkKICAgICAgICAgICAgICAgICAgICAgICAgfX0KICAgICAgICAgICAgICAgICAgICAvPgogICAgICAgICAgICAgICAgKQogICAgICAgICAgICBjYXNlICd0b2RvLXVzZXInOgogICAgICAgICAgICAgICAgcmV0dXJuICgKICAgICAgICAgICAgICAgICAgICA8VXNlck1lbnUKICAgICAgICAgICAgICAgICAgICAgICAgb25GaWx0ZXI9eyh2YWx1ZSkgPT4gY29uc29sZS5sb2coJ2ZpbHRlcicsIHZhbHVlKX0KICAgICAgICAgICAgICAgICAgICAgICAgYXZhaWxhYmxlVXNlcnM9e2RhdGEuYXZhaWxhYmxlVXNlcnN9CiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJzPXtwYXlsb2FkLnVzZXJzfQogICAgICAgICAgICAgICAgICAgICAgICBvbkNhbmNlbD17ZGlzbWlzc30KICAgICAgICAgICAgICAgICAgICAgICAgb25TYXZlPXsodXNlcnMpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVRhc2tVcGRhdGUoeyAuLi5wYXlsb2FkLCB1c2VycyB9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzbWlzcygpCiAgICAgICAgICAgICAgICAgICAgICAgIH19CiAgICAgICAgICAgICAgICAgICAgLz4KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgY2FzZSAndG9kby1tZW51JzoKICAgICAgICAgICAgICAgIHJldHVybiAoCiAgICAgICAgICAgICAgICAgICAgPFBvcHVwCiAgICAgICAgICAgICAgICAgICAgICAgIGlzVG9kbwogICAgICAgICAgICAgICAgICAgICAgICBpdGVtPXtwYXlsb2FkfQogICAgICAgICAgICAgICAgICAgICAgICBvbkNhbmNlbD17ZGlzbWlzc30KICAgICAgICAgICAgICAgICAgICAgICAgY29sb3JQYWxldHRlPXtkYXRhLmNvbG9yUGFsZXR0ZX0KICAgICAgICAgICAgICAgICAgICAgICAgb25Ub2RvQWRkQmVsb3c9eygpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc21pc3MoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2hUb2RvRXZlbnQoJ29wZW4tYWRkYmVsb3cnLCB7IGlkOiBwYXlsb2FkLmlkIH0pCiAgICAgICAgICAgICAgICAgICAgICAgIH19CiAgICAgICAgICAgICAgICAgICAgICAgIG9uVG9kb0VkaXQ9eygpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc21pc3MoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2hUb2RvRXZlbnQoJ2VkaXQtdGFzaycsIHsgaWQ6IHBheWxvYWQuaWQgfSkKICAgICAgICAgICAgICAgICAgICAgICAgfX0KICAgICAgICAgICAgICAgICAgICAgICAgb25TYXZlPXsoY2FyZCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzbWlzcygpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVUYXNrVXBkYXRlKHsgLi4ucGF5bG9hZCwgLi4uY2FyZCB9KQogICAgICAgICAgICAgICAgICAgICAgICB9fQogICAgICAgICAgICAgICAgICAgICAgICBvblZpZXc9eygpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc21pc3MoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGFzayhwYXlsb2FkKQogICAgICAgICAgICAgICAgICAgICAgICB9fQogICAgICAgICAgICAgICAgICAgICAgICBvbkRlbGV0ZT17KCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzbWlzcygpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVUYXNrRGVsZXRlKHBheWxvYWQpCiAgICAgICAgICAgICAgICAgICAgICAgIH19CiAgICAgICAgICAgICAgICAgICAgLz4KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgY2FzZSAndG9kby1zZWN0aW9uJzoKICAgICAgICAgICAgICAgIHJldHVybiAoCiAgICAgICAgICAgICAgICAgICAgPFRvZG9TZWN0aW9uTWVudQogICAgICAgICAgICAgICAgICAgICAgICBjb2xvclBhbGV0dGU9e2RhdGEuY29sb3JQYWxldHRlfQogICAgICAgICAgICAgICAgICAgICAgICBvblNhdmU9eyhzZWN0aW9uKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVTZWN0aW9uVXBkYXRlKHsgLi4ucGF5bG9hZCwgLi4uc2VjdGlvbiB9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzbWlzcygpCiAgICAgICAgICAgICAgICAgICAgICAgIH19CiAgICAgICAgICAgICAgICAgICAgICAgIG9uRGVsZXRlPXsoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVTZWN0aW9uRGVsZXRlKHBheWxvYWQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNtaXNzKCkKICAgICAgICAgICAgICAgICAgICAgICAgfX0KICAgICAgICAgICAgICAgICAgICAgICAgc2VjdGlvbj17cGF5bG9hZH0KICAgICAgICAgICAgICAgICAgICAvPgogICAgICAgICAgICAgICAgKQogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgcmV0dXJuIG51bGwKICAgICAgICB9CiAgICB9CgogICAgcmV0dXJuICgKICAgICAgICA8PgogICAgICAgICAgICB7ISF0YXNrLmlkICYmICgKICAgICAgICAgICAgICAgIDxEZXRhaWwKICAgICAgICAgICAgICAgICAgICBjb2xvclBhbGV0dGU9e2RhdGEuY29sb3JQYWxldHRlfQogICAgICAgICAgICAgICAgICAgIGF2YWlsYWJsZUxhYmVscz17ZGF0YS5hdmFpbGFibGVMYWJlbHN9CiAgICAgICAgICAgICAgICAgICAgYXZhaWxhYmxlVXNlcnM9e2RhdGEuYXZhaWxhYmxlVXNlcnN9CiAgICAgICAgICAgICAgICAgICAgaXRlbT17eyAuLi50YXNrIH19CiAgICAgICAgICAgICAgICAgICAgb25DYW5jZWw9eygpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGFzayh7fSkKICAgICAgICAgICAgICAgICAgICB9fQogICAgICAgICAgICAgICAgICAgIG9uU2F2ZT17KHRhc2spID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlVGFza1VwZGF0ZSh0YXNrKQogICAgICAgICAgICAgICAgICAgICAgICBzZXRUYXNrKHt9KQogICAgICAgICAgICAgICAgICAgIH19CiAgICAgICAgICAgICAgICAgICAgb25EZWxldGU9eyh0YXNrKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVRhc2tEZWxldGUodGFzaykKICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGFzayh7fSkKICAgICAgICAgICAgICAgICAgICB9fQogICAgICAgICAgICAgICAgLz4KICAgICAgICAgICAgKX0KCiAgICAgICAgICAgIDxNZW51UHJvdmlkZXIgbWVudT17Z2V0TWVudX0+CiAgICAgICAgICAgICAgICA8VG9kbwogICAgICAgICAgICAgICAgICAgIHNlY3Rpb25zPXtzZWN0aW9uc30KICAgICAgICAgICAgICAgICAgICBvblRhc2tPcGVuPXtoYW5kbGVUYXNrT3Blbn0KICAgICAgICAgICAgICAgICAgICBvblRhc2tVcGRhdGU9e2hhbmRsZVRhc2tVcGRhdGV9CiAgICAgICAgICAgICAgICAgICAgb25UYXNrQWRkPXtoYW5kbGVUYXNrQWRkfQogICAgICAgICAgICAgICAgICAgIG9uVGFza0FkZEJlbG93PXtoYW5kbGVUYXNrQWRkQmVsb3d9CiAgICAgICAgICAgICAgICAgICAgb25UYXNrTW92ZT17aGFuZGxlVGFza01vdmV9CiAgICAgICAgICAgICAgICAgICAgb25TZWN0aW9uVXBkYXRlPXtoYW5kbGVTZWN0aW9uVXBkYXRlfQogICAgICAgICAgICAgICAgICAgIG9uU2VjdGlvbkFkZD17aGFuZGxlU2VjdGlvbkFkZH0KICAgICAgICAgICAgICAgICAgICBvblNlY3Rpb25Nb3ZlPXtoYW5kbGVTZWN0aW9uTW92ZX0KICAgICAgICAgICAgICAgICAgICBhdmFpbGFibGVMYWJlbHM9e2RhdGEuYXZhaWxhYmxlTGFiZWxzfQogICAgICAgICAgICAgICAgICAgIG9uTGFiZWxGaWx0ZXI9eyh2YWx1ZSkgPT4gY29uc29sZS5sb2coJ2ZpbHRlciBsYWJlbHMnLCB2YWx1ZSl9CiAgICAgICAgICAgICAgICAgICAgYXZhaWxhYmxlVXNlcnM9e2RhdGEuYXZhaWxhYmxlVXNlcnN9CiAgICAgICAgICAgICAgICAgICAgb25Vc2VyRmlsdGVyPXsodmFsdWUpID0+IGNvbnNvbGUubG9nKCdmaWx0ZXIgdXNlcnMnLCB2YWx1ZSl9CiAgICAgICAgICAgICAgICAgICAgcmljaElucHV0SGlnaGxpZ2h0PXtoYW5kbGVIaWdobGlnaHR9CiAgICAgICAgICAgICAgICAgICAgcmljaElucHV0VHJpZ2dlcj17aGFuZGxlVHJpZ2dlcn0KICAgICAgICAgICAgICAgICAgICByaWNoSW5wdXRPcHRpb25zPXtvcHRpb25zfQogICAgICAgICAgICAgICAgICAgIGVkaXRhYmxlU2VjdGlvbk5hbWU9e3RydWV9CiAgICAgICAgICAgICAgICAgICAgc2hvd1NlY3Rpb25Db3VudD17dHJ1ZX0KICAgICAgICAgICAgICAgICAgICBoaWRlQ2hlY2tib3g9e2ZhbHNlfQogICAgICAgICAgICAgICAgICAgIGNvbGxhcHNpYmxlU2VjdGlvbj17dHJ1ZX0KICAgICAgICAgICAgICAgICAgICBjb2xsYXBzaWJsZVRhc2s9e3RydWV9CiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0VmFyaWFudD17eyBjYXJkczogJ2FuaW1hdGVkJywgbmF2OiAnZm9jdXMnIH19CiAgICAgICAgICAgICAgICAgICAgdGFzaz17dW5kZWZpbmVkfQogICAgICAgICAgICAgICAgICAgIHNlY3Rpb25IZWFkZXI9e3VuZGVmaW5lZH0KICAgICAgICAgICAgICAgICAgICBkZWZhdWx0U2VsZWN0aW9uPXt7fX0KICAgICAgICAgICAgICAgICAgICB0b29sYmFyPXsoeyBzZWxlY3Rpb24gfSkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPFZpZXcKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3cKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbj0iYWJzb2x1dGUiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdUb2tlbj0ic3VyZmFjZS1pbnZlcnNlIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yVG9rZW49InRleHQtb24tY29sb3IiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcD0iMXJlbSAycmVtIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhZGl1cz0idmFyKC0tZi1yYWRpdXMpIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvdz0idmFyKC0tZi1zaGFkb3cteGwpIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpJbmRleD17MTAwMH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYXA9ezEwfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0iZi1mYWRlaW4iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheT17IU9iamVjdC5rZXlzKHNlbGVjdGlvbikubGVuZ3RoID8gJ25vbmUnIDogJ2ZsZXgnfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGJvdHRvbTogMTAsIGxlZnQ6ICc1MCUnLCB0cmFuc2Zvcm06ICd0cmFuc2xhdGVYKC01MCUpJyB9fT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGV4dCBjb2xvcj0iaW5oZXJpdCI+e09iamVjdC5rZXlzKHNlbGVjdGlvbikubGVuZ3RofSBzZWxlY3RlZDwvVGV4dD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uPXtGSVh9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0iZi1idXR0b25pemUiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGRpc3BhdGNoVG9kb0V2ZW50KCdzZWxlY3QnLCB7fSl9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVmlldz4KICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgIH19CiAgICAgICAgICAgICAgICAvPgogICAgICAgICAgICA8L01lbnVQcm92aWRlcj4KICAgICAgICA8Lz4KICAgICkKfQ==" />

```tsx
export const Usage = () => {
    const [sections, setSections] = useState<any>(data.sections)
    const [task, setTask] = useState<any>({})
    const [options, setOptions] = useState<any>([])

    const handleTaskOpen = (task) => {
        todoState({ task, setTask, sections, setSections }).handleTaskOpen(task)
    }

    const handleTaskUpdate = (taskData) => {
        todoState({ task, setTask, sections, setSections }).handleTaskUpdate(taskData)
    }

    const handleTaskDelete = (task) => {
        todoState({ task, setTask, sections, setSections }).handleTaskDelete(task)
    }

    const handleTaskAddBelow = ({ id, shouldIndent, task: { title, users, badges, labels } }) => {
        todoState({ task, setTask, sections, setSections }).handleTaskAddBelow({
            id,
            shouldIndent,
            task: { title, users, badges, labels },
        })
    }

    const handleTaskAdd = ({ task, sectionIndex }) => {
        todoState({ task, setTask, sections, setSections }).handleTaskAdd({ task, sectionIndex })
    }

    const handleTaskMove = ({ origin, target, selection }) => {
        todoState({ task, setTask, sections, setSections }).handleTaskMove({ origin, target, selection })
    }

    const handleSectionUpdate = (sec) => {
        todoState({ task, setTask, sections, setSections }).handleSectionUpdate(sec)
    }

    const handleSectionDelete = (sec) => {
        todoState({ task, setTask, sections, setSections }).handleSectionDelete(sec)
    }

    const handleSectionAdd = ({ name, sectionIndex }) => {
        todoState({ task, setTask, sections, setSections }).handleSectionAdd({ name, sectionIndex })
    }

    const handleSectionMove = ({ origin, target }) => {
        todoState({ task, setTask, sections, setSections }).handleSectionMove({ origin, target })
    }

    const handleTrigger = (word) => {
        if (word.trim().charAt(0) == '@') {
            setOptions(data.richInputUsers)
        } else if (word.trim().charAt(0) == '#') {
            setOptions(data.richInputLabels)
        } else {
            setOptions([])
        }
    }

    const handleHighlight = (word, cb, always = false) => {
        if (word.includes('date:')) {
            cb({
                phrase: word.trim(),
                type: 'date',
                value: word.split(':')[1].trim(),
            })
        } else {
            if (always) cb(null)
        }
    }

    const getMenu = ({ data: { target, payload }, dismiss }) => {
        switch (target) {
            case 'todo-label':
                return (
                    <LabelMenu
                        onFilter={(value) => console.log('filter', value)}
                        availableLabels={data.availableLabels}
                        labels={payload.labels}
                        onCancel={dismiss}
                        onSave={(labels) => {
                            handleTaskUpdate({ ...payload, labels })
                            dismiss()
                        }}
                    />
                )
            case 'todo-user':
                return (
                    <UserMenu
                        onFilter={(value) => console.log('filter', value)}
                        availableUsers={data.availableUsers}
                        users={payload.users}
                        onCancel={dismiss}
                        onSave={(users) => {
                            handleTaskUpdate({ ...payload, users })
                            dismiss()
                        }}
                    />
                )
            case 'todo-menu':
                return (
                    <Popup
                        isTodo
                        item={payload}
                        onCancel={dismiss}
                        colorPalette={data.colorPalette}
                        onTodoAddBelow={() => {
                            dismiss()
                            dispatchTodoEvent('open-addbelow', { id: payload.id })
                        }}
                        onTodoEdit={() => {
                            dismiss()
                            dispatchTodoEvent('edit-task', { id: payload.id })
                        }}
                        onSave={(card) => {
                            dismiss()
                            handleTaskUpdate({ ...payload, ...card })
                        }}
                        onView={() => {
                            dismiss()
                            setTask(payload)
                        }}
                        onDelete={() => {
                            dismiss()
                            handleTaskDelete(payload)
                        }}
                    />
                )
            case 'todo-section':
                return (
                    <TodoSectionMenu
                        colorPalette={data.colorPalette}
                        onSave={(section) => {
                            handleSectionUpdate({ ...payload, ...section })
                            dismiss()
                        }}
                        onDelete={() => {
                            handleSectionDelete(payload)
                            dismiss()
                        }}
                        section={payload}
                    />
                )
            default:
                return null
        }
    }

    return (
        <>
            {!!task.id && (
                <Detail
                    colorPalette={data.colorPalette}
                    availableLabels={data.availableLabels}
                    availableUsers={data.availableUsers}
                    item={{ ...task }}
                    onCancel={() => {
                        setTask({})
                    }}
                    onSave={(task) => {
                        handleTaskUpdate(task)
                        setTask({})
                    }}
                    onDelete={(task) => {
                        handleTaskDelete(task)
                        setTask({})
                    }}
                />
            )}

            <MenuProvider menu={getMenu}>
                <Todo
                    sections={sections}
                    onTaskOpen={handleTaskOpen}
                    onTaskUpdate={handleTaskUpdate}
                    onTaskAdd={handleTaskAdd}
                    onTaskAddBelow={handleTaskAddBelow}
                    onTaskMove={handleTaskMove}
                    onSectionUpdate={handleSectionUpdate}
                    onSectionAdd={handleSectionAdd}
                    onSectionMove={handleSectionMove}
                    availableLabels={data.availableLabels}
                    onLabelFilter={(value) => console.log('filter labels', value)}
                    availableUsers={data.availableUsers}
                    onUserFilter={(value) => console.log('filter users', value)}
                    richInputHighlight={handleHighlight}
                    richInputTrigger={handleTrigger}
                    richInputOptions={options}
                    editableSectionName={true}
                    showSectionCount={true}
                    hideCheckbox={false}
                    collapsibleSection={true}
                    collapsibleTask={true}
                    targetVariant={{ cards: 'animated', nav: 'focus' }}
                    task={undefined}
                    sectionHeader={undefined}
                    defaultSelection={{}}
                    toolbar={({ selection }) => {
                        return (
                            <View
                                row
                                position="absolute"
                                bgToken="surface-inverse"
                                colorToken="text-on-color"
                                p="1rem 2rem"
                                radius="var(--f-radius)"
                                shadow="var(--f-shadow-xl)"
                                zIndex={1000}
                                gap={10}
                                className="f-fadein"
                                display={!Object.keys(selection).length ? 'none' : 'flex'}
                                style={{ bottom: 10, left: '50%', transform: 'translateX(-50%)' }}>
                                <Text color="inherit">{Object.keys(selection).length} selected</Text>
                                <Icon
                                    icon={FIX}
                                    className="f-buttonize"
                                    onClick={() => dispatchTodoEvent('select', {})}
                                />
                            </View>
                        )
                    }}
                />
            </MenuProvider>
        </>
    )
}
```

export default ({ children }) => <ComponentLayout docs={docs} props={props} css={css}>{children}</ComponentLayout>