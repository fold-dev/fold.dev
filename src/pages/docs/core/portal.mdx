import { CodeComponent } from '@/components/code.component'
import DocsLayout from '@/layouts/docs.layout'
import ComponentLayout from '@/layouts/component.layout'
import React, { useRef, useState } from 'react'
import { Button, Portal, Text, View, documentObject } from '@fold-dev/core'

export const docs = {
    title: 'Portal',
    subtitle:
        'The Portal is employed to transfer any component or element to the end of the document.body and render a React tree within it.',
    description:
        'Useful for creating a seamless React element hierarchy within a distinct DOM hierarchy, preventing potential style conflicts with parent elements that might obscure or conceal content (commonly used for popovers, dropdowns, and modals). It supports custom root mounts.',
}

export const props = [{"tags":{},"filePath":"packages/core/src/portal/index.ts","description":"","displayName":"Portal","methods":[],"props":{"portalRef":{"defaultValue":null,"description":"","name":"portalRef","declarations":[{"fileName":"fold/packages/core/src/portal/portal.tsx","name":"TypeLiteral"}],"required":false,"type":{"name":"HTMLDivElement"},"tags":{}}}}]

export const css = []

<CodeComponent filename="portal.tsx" code="aW1wb3J0IHsgUG9ydGFsIH0gZnJvbSAiQGZvbGQtZGV2L2NvcmUiOwo=" />
```tsx
import { Portal } from "@fold-dev/core";
```

### Usage

> Without the `portalId` prop, the `<Portal />` component will mount to the root of the current document

export const Usage = () => {
    const [show, setShow] = useState(false);
    const portalRef = useRef(undefined);
    return (<>
            <Button onClick={() => setShow(!show)}>Toggle Portal</Button>

            <View p="1rem 0 0 0" id="custom-root" ref={portalRef}/>

            {show && (<Portal portalRef={portalRef.current}>
                    <Text>Content in a portal, in a custom root</Text>
                </Portal>)}
        </>);
};

<div className="story-block">
<Usage />
</div>

<CodeComponent filename="BasicUsage.tsx" code="ZXhwb3J0IGNvbnN0IFVzYWdlID0gKCkgPT4gewogICAgY29uc3QgW3Nob3csIHNldFNob3ddID0gdXNlU3RhdGUoZmFsc2UpCiAgICBjb25zdCBwb3J0YWxSZWYgPSB1c2VSZWYodW5kZWZpbmVkKQoKICAgIHJldHVybiAoCiAgICAgICAgPD4KICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRTaG93KCFzaG93KX0+VG9nZ2xlIFBvcnRhbDwvQnV0dG9uPgoKICAgICAgICAgICAgPFZpZXcKICAgICAgICAgICAgICAgIHA9IjFyZW0gMCAwIDAiCiAgICAgICAgICAgICAgICBpZD0iY3VzdG9tLXJvb3QiCiAgICAgICAgICAgICAgICByZWY9e3BvcnRhbFJlZn0KICAgICAgICAgICAgLz4KCiAgICAgICAgICAgIHtzaG93ICYmICgKICAgICAgICAgICAgICAgIDxQb3J0YWwgcG9ydGFsUmVmPXtwb3J0YWxSZWYuY3VycmVudH0+CiAgICAgICAgICAgICAgICAgICAgPFRleHQ+Q29udGVudCBpbiBhIHBvcnRhbCwgaW4gYSBjdXN0b20gcm9vdDwvVGV4dD4KICAgICAgICAgICAgICAgIDwvUG9ydGFsPgogICAgICAgICAgICApfQogICAgICAgIDwvPgogICAgKQp9" />

```tsx
export const Usage = () => {
    const [show, setShow] = useState(false)
    const portalRef = useRef(undefined)

    return (
        <>
            <Button onClick={() => setShow(!show)}>Toggle Portal</Button>

            <View
                p="1rem 0 0 0"
                id="custom-root"
                ref={portalRef}
            />

            {show && (
                <Portal portalRef={portalRef.current}>
                    <Text>Content in a portal, in a custom root</Text>
                </Portal>
            )}
        </>
    )
}
```

export default ({ children }) => <ComponentLayout docs={docs} props={props} css={css}>{children}</ComponentLayout>
