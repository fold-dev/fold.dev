import { CodeComponent } from '@/pages/components/code.component'
import DocsLayout from '@/layouts/docs.layout'
import ComponentLayout from '@/layouts/component.layout'
import React, { useRef, useState } from 'react'
import { Button, Portal, Text, View, documentObject } from '@fold-dev/core'

export const docs = {
    title: 'Portal',
    subtitle:
        'The Portal is employed to transfer any component or element to the end of the document.body and render a React tree within it.',
    description:
        'Useful for creating a seamless React element hierarchy within a distinct DOM hierarchy, preventing potential style conflicts with parent elements that might obscure or conceal content (commonly used for popovers, dropdowns, and modals). It supports custom root mounts.',
}

export const props = [{"tags":{},"filePath":"packages/core/src/portal/portal.tsx","description":"","displayName":"Portal","methods":[],"props":{"portalRef":{"defaultValue":null,"description":"","name":"portalRef","declarations":[{"fileName":"packages/core/src/portal/portal.tsx","name":"TypeLiteral"}],"required":false,"type":{"name":"HTMLDivElement"},"tags":{}}}}]

export const css = []

<CodeComponent filename="portal.tsx" code="aW1wb3J0IHsgUG9ydGFsIH0gZnJvbSAiQGZvbGQtZGV2L2NvcmUiOwo=" />
```tsx
import { Portal } from "@fold-dev/core";
```

### Usage

> Without the `portalId` prop, the `<Portal />` component will mount to the root of the current document

export const Usage = () => {
    const [show, setShow] = useState(false);
    const portalRef = useRef(null);
    return (<>
            <Button onClick={() => setShow(!show)}>Toggle Portal</Button>

            <View p="1rem 0 0 0" id="custom-root" ref={portalRef}/>

            {show && (<Portal portalRef={portalRef.current}>
                    <Text>Content in a portal, in a custom root</Text>
                </Portal>)}
        </>);
};

<div className="story-block">
<Usage />
</div>

<CodeComponent filename="BasicUsage.tsx" code="ZXhwb3J0IGNvbnN0IFVzYWdlID0gKCkgPT4gewogICAgY29uc3QgW3Nob3csIHNldFNob3ddID0gdXNlU3RhdGUoZmFsc2UpCiAgICBjb25zdCBwb3J0YWxSZWYgPSB1c2VSZWYobnVsbCkKICAgIAogICAgcmV0dXJuICgKICAgICAgICA8PgogICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldFNob3coIXNob3cpfT5Ub2dnbGUgUG9ydGFsPC9CdXR0b24+CgogICAgICAgICAgICA8VmlldwogICAgICAgICAgICAgICAgcD0iMXJlbSAwIDAgMCIKICAgICAgICAgICAgICAgIGlkPSJjdXN0b20tcm9vdCIKICAgICAgICAgICAgICAgIHJlZj17cG9ydGFsUmVmfQogICAgICAgICAgICAvPgoKICAgICAgICAgICAge3Nob3cgJiYgKAogICAgICAgICAgICAgICAgPFBvcnRhbCBwb3J0YWxSZWY9e3BvcnRhbFJlZi5jdXJyZW50fT4KICAgICAgICAgICAgICAgICAgICA8VGV4dD5Db250ZW50IGluIGEgcG9ydGFsLCBpbiBhIGN1c3RvbSByb290PC9UZXh0PgogICAgICAgICAgICAgICAgPC9Qb3J0YWw+CiAgICAgICAgICAgICl9CiAgICAgICAgPC8+CiAgICApCn0=" />

```tsx
export const Usage = () => {
    const [show, setShow] = useState(false)
    const portalRef = useRef(null)
    
    return (
        <>
            <Button onClick={() => setShow(!show)}>Toggle Portal</Button>

            <View
                p="1rem 0 0 0"
                id="custom-root"
                ref={portalRef}
            />

            {show && (
                <Portal portalRef={portalRef.current}>
                    <Text>Content in a portal, in a custom root</Text>
                </Portal>
            )}
        </>
    )
}
```

export default ({ children }) => <ComponentLayout docs={docs} props={props} css={css}>{children}</ComponentLayout>