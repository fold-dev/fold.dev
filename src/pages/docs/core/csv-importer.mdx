import { CodeComponent } from '@/components/code.component'
import DocsLayout from '@/layouts/docs.layout'
import ComponentLayout from '@/layouts/component.layout'
import { Link, View } from '@fold-dev/core'
import React from 'react'
import { CsvImporter } from '@fold-dev/core'

export const docs = {
    title: 'CSV Importer',
    subtitle: 'Make sense of imported data by correctly mapping columns with the CSV Importer.',
    description:
        'The CSV Importer component offers a streamlined way of onboarding complex data - ideal for customer success, onboarding & data teams.',
    experimental: true,
}

export const props = [{"tags":{},"filePath":"packages/core/src/csv-importer/index.ts","description":"","displayName":"CsvImporterColumnMapRow","methods":[],"props":{}},{"tags":{},"filePath":"packages/core/src/csv-importer/index.ts","description":"","displayName":"CsvImporterColumnMap","methods":[],"props":{}},{"tags":{},"filePath":"packages/core/src/csv-importer/index.ts","description":"","displayName":"CsvImporterDataClean","methods":[],"props":{}},{"tags":{},"filePath":"packages/core/src/csv-importer/index.ts","description":"","displayName":"CsvImporterDone","methods":[],"props":{}},{"tags":{},"filePath":"packages/core/src/csv-importer/index.ts","description":"","displayName":"CsvImporterFooter","methods":[],"props":{"step":{"defaultValue":null,"description":"","name":"step","declarations":[{"fileName":"fold/packages/core/src/csv-importer/csv-importer-footer.tsx","name":"TypeLiteral"}],"required":true,"type":{"name":"number"},"tags":{}},"onStepChange":{"defaultValue":null,"description":"","name":"onStepChange","declarations":[{"fileName":"fold/packages/core/src/csv-importer/csv-importer-footer.tsx","name":"TypeLiteral"}],"required":true,"type":{"name":"(value: any) => void"},"tags":{}},"onComplete":{"defaultValue":null,"description":"","name":"onComplete","declarations":[{"fileName":"fold/packages/core/src/csv-importer/csv-importer-footer.tsx","name":"TypeLiteral"}],"required":true,"type":{"name":"(value: any) => void"},"tags":{}}}},{"tags":{},"filePath":"packages/core/src/csv-importer/index.ts","description":"","displayName":"CsvImporterHeaderSelect","methods":[],"props":{}},{"tags":{},"filePath":"packages/core/src/csv-importer/index.ts","description":"","displayName":"CsvImporterSteps","methods":[],"props":{"step":{"defaultValue":null,"description":"","name":"step","declarations":[{"fileName":"fold/packages/core/src/csv-importer/csv-importer-steps.tsx","name":"TypeLiteral"}],"required":true,"type":{"name":"number"},"tags":{}}}},{"tags":{},"filePath":"packages/core/src/csv-importer/index.ts","description":"","displayName":"CsvImporterUpload","methods":[],"props":{}},{"tags":{},"filePath":"packages/core/src/csv-importer/index.ts","description":"","displayName":"CsvImporterValidationPopup","methods":[],"props":{}},{"tags":{},"filePath":"packages/core/src/csv-importer/index.ts","description":"","displayName":"CsvImporterProvider","methods":[],"props":{}},{"tags":{},"filePath":"packages/core/src/csv-importer/index.ts","description":"","displayName":"CsvImporter","methods":[],"props":{}}]

export const css = [[["--f-csv-importer-padding","1rem"],["--f-csv-importer-gap","1.5rem"]]]



<CodeComponent filename="csv-importer.tsx" code="aW1wb3J0IHsKICBDc3ZJbXBvcnRlckNvbHVtbk1hcFJvdywKICBDc3ZJbXBvcnRlckNvbHVtbk1hcCwKICBDc3ZJbXBvcnRlckRhdGFDbGVhbiwKICBDc3ZJbXBvcnRlckRvbmUsCiAgQ3N2SW1wb3J0ZXJGb290ZXIsCiAgQ3N2SW1wb3J0ZXJIZWFkZXJTZWxlY3QsCiAgQ3N2SW1wb3J0ZXJTdGVwcywKICBDc3ZJbXBvcnRlclVwbG9hZCwKICBDc3ZJbXBvcnRlclZhbGlkYXRpb25Qb3B1cCwKICBDc3ZJbXBvcnRlclByb3ZpZGVyLAogIENzdkltcG9ydGVyLAp9IGZyb20gIkBmb2xkLWRldi9jb3JlIjsK" />
```tsx
import {
  CsvImporterColumnMapRow,
  CsvImporterColumnMap,
  CsvImporterDataClean,
  CsvImporterDone,
  CsvImporterFooter,
  CsvImporterHeaderSelect,
  CsvImporterSteps,
  CsvImporterUpload,
  CsvImporterValidationPopup,
  CsvImporterProvider,
  CsvImporter,
} from "@fold-dev/core";
```

### Usage

export const Usage = () => {
    return (
        <CsvImporter 
            step={0} 
            separator="," 
            onComplete={(data) => console.log('data', data)} 
            schema={[
                { key: 'year', label: 'Year', type: 'string' },
                { key: 'variable', label: 'Variable', type: 'string' },
            ]} 
            toolbar={
                <View row gap={5} justifyContent="flex-start">
                    <Link href="https://drive.google.com/uc?id=1x2IdSNcHGLmot9i1h90gwMJr5lULC2QV&export=download" target="_blank">
                        Download CSV file ↗
                    </Link>
                </View>
            } 
        />
    );
};

<div className="story-block">
<Usage />
</div>

<CodeComponent filename="BasicUsage.tsx" code="ZXhwb3J0IGNvbnN0IFVzYWdlID0gKCkgPT4gewogICAgcmV0dXJuICgKICAgICAgICA8Q3N2SW1wb3J0ZXIKICAgICAgICAgICAgc3RlcD17MH0KICAgICAgICAgICAgc2VwYXJhdG9yPSIsIgogICAgICAgICAgICBvbkNvbXBsZXRlPXsoZGF0YSkgPT4gY29uc29sZS5sb2coJ2RhdGEnLCBkYXRhKX0KICAgICAgICAgICAgCiAgICAgICAgICAgIAogICAgICAgICAgICAKICAgICAgICAgICAgCiAgICAgICAgICAgIHNjaGVtYT17WwogICAgICAgICAgICAgICAgeyBrZXk6ICd5ZWFyJywgbGFiZWw6ICdZZWFyJywgdHlwZTogJ3N0cmluZycgfSwKICAgICAgICAgICAgICAgIHsga2V5OiAndmFyaWFibGUnLCBsYWJlbDogJ1ZhcmlhYmxlJywgdHlwZTogJ3N0cmluZycgfSwKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIAogICAgICAgICAgICBdfQogICAgICAgICAgICB0b29sYmFyPXsKICAgICAgICAgICAgICAgIDxWaWV3CiAgICAgICAgICAgICAgICAgICAgcm93CiAgICAgICAgICAgICAgICAgICAgZ2FwPXs1fQogICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50PSJmbGV4LXN0YXJ0Ij4KICAgICAgICAgICAgICAgICAgICA8TGluawogICAgICAgICAgICAgICAgICAgICAgICBocmVmPSJodHRwczovL2RyaXZlLmdvb2dsZS5jb20vdWM/aWQ9MXgySWRTTmNIR0xtb3Q5aTFoOTBnd01KcjVsVUxDMlFWJmV4cG9ydD1kb3dubG9hZCIKICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0PSJfYmxhbmsiPgogICAgICAgICAgICAgICAgICAgICAgICBEb3dubG9hZCBDU1YgZmlsZSDihpcKICAgICAgICAgICAgICAgICAgICA8L0xpbms+CiAgICAgICAgICAgICAgICA8L1ZpZXc+CiAgICAgICAgICAgIH0KICAgICAgICAvPgogICAgKQp9" />

```tsx
export const Usage = () => {
    return (
        <CsvImporter
            step={0}
            separator=","
            onComplete={(data) => console.log('data', data)}
            schema={[
                { key: 'year', label: 'Year', type: 'string' },
                { key: 'variable', label: 'Variable', type: 'string' }, 
            ]}
            toolbar={
                <View
                    row
                    gap={5}
                    justifyContent="flex-start">
                    <Link
                        href="https://drive.google.com/uc?id=1x2IdSNcHGLmot9i1h90gwMJr5lULC2QV&export=download"
                        target="_blank">
                        Download CSV file ↗
                    </Link>
                </View>
            }
        />
    )
}
```

export default ({ children }) => <ComponentLayout docs={docs} props={props} css={css}>{children}</ComponentLayout>
